<template>
    <div :style="resultData.length < 1 ? 'height: 15%' : 'height: 35%'"
        class="w-full flex justify-start px-4 items-center">
        <span v-if="resultData.length < 1" class="font-Manrope_Bold text-[16px]">
            –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {{ first_name }} üòâ
        </span>
        <div v-else id="imageContainer" class="w-full h-full flex justify-center items-center p-8"></div>
    </div>
    <div :style="resultData.length < 1 ? 'height: 85%' : 'height: 65%'"
        class="text-3xl transition-all duration-1000  w-full bg-white rounded-t-lg drop-shadow-lg flex justify-between items-center py-6 px-4 flex-col">
        <div class="flex justify-top items-center flex-col gap-2 overflow-scroll">
            <span class="font-Manrope_Bold text-[24px]">
                {{ resultData.category ? resultData.category : '–í–∞—à–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏' }}
            </span>
            <span class="font-Manrope_Medium text-[16px]" id="desription">
                {{ resultData.description ? resultData.description :
                    '–í—ã –µ—â–µ –Ω–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ :(' }}
            </span>
        </div>
        <button
            class="w-[320px] h-[50px] bg-[#2C50CC] rounded-lg text-white font-Manrope_Bold text-[16px] flex justify-center items-center gap-2"
            @click="loadImage()">{{ resultData.length < 1 ? '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å' : '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω–æ–≤–æ' }} <img
                src="/images/scan.svg" class="w-[24px]" alt=""> </button>
    </div>
</template>


<script setup>
import axios from 'axios';
import { ref, watch } from "vue";
defineProps({
    first_name: String
})
const htmlstring = ref('')
const resultData = ref([])
const input = document.createElement('input');
const loadImage = () => {

    input.type = 'file';
    input.accept = 'image/*';
    input.click();
    input.onchange = () => {
        const img = new FormData();
        // onFileChange(input.files[0]);
        img.append('photo', input.files[0]);
        axios.post(`http://localhost:8081/api/v1/photo/load`,
            img,
            {
                headers: { "Content-Type": "multipart/form-data" },
            },).then((response) => {
                resultData.value = response.data
                let res = resultData.value.description
                const container = document.getElementById('container');
                document.getElementById('desription').insertAdjacentHTML('beforeend', text);

                console.log(res.description)
            })
    }

}

watch(resultData, () => {
    const file = input.files[0];
    const reader = new FileReader();
    reader.onload = () => {
        if (reader.result) {
            const img = document.createElement('img');
            const imageContainer = document.getElementById('imageContainer');
            if (imageContainer) {
                img.src = reader.result;
                imageContainer.innerHTML = '';
                imageContainer.appendChild(img);
            }
        }
    }
    reader.readAsDataURL(file);
})


</script>

<!-- category
: 
"–¢—Ä–µ—â–∏–Ω–∞ —Å–≤–∞—Ä–Ω–æ–≥–æ —à–≤–∞"
description
: 
"<b>–°–∞–º—ã–º —Å–µ—Ä—å–µ–∑–Ω—ã–º –≤–∏–¥–æ–º —Å–≤–∞—Ä–æ—á–Ω–æ–≥–æ –¥–µ—Ñ–µ–∫—Ç–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç—Ä–µ—â–∏–Ω–∞ —Å–≤–∞—Ä–Ω–æ–≥–æ —à–≤–∞</b>, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø–æ—á—Ç–∏ –≤—Å–µ–º–∏ –æ—Ç—Ä–∞—Å–ª–µ–≤—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏. –û–Ω–∞ –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, –≤ –º–µ—Ç–∞–ª–ª–µ —Å–≤–∞—Ä–Ω–æ–≥–æ —à–≤–∞ –∏–ª–∏ –≤ –∑–æ–Ω–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è —Å–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ø–ª–∞. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç, —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç—Ä–µ—â–∏–Ω:\n<br><b>–ì–æ—Ä—è—á–∏–µ —Ç—Ä–µ—â–∏–Ω—ã.</b> –û–Ω–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–≤–∞—Ä–∫–∏ –∏–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫—Ä–∏—Å—Ç–∞–ª–ª–∏–∑–∞—Ü–∏–∏ —Å–≤–∞—Ä–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è –≤—ã—à–µ 10 000 ¬∞C.<br><b>–•–æ–ª–æ–¥–Ω—ã–µ —Ç—Ä–µ—â–∏–Ω—ã.</b> –≠—Ç–∏ —Ç—Ä–µ—â–∏–Ω—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–≤–∞—Ä–∫–∏ –∏ —Å–Ω–∏–∂–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –º–µ—Ç–∞–ª–ª–∞. –û–Ω–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç—å—Å—è —Å–ø—É—Å—Ç—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –∏–ª–∏ –¥–∞–∂–µ –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–≤–∞—Ä–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç. –ß–∞—â–µ –≤—Å–µ–≥–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–≤–∞—Ä–∫–µ —Å—Ç–∞–ª–∏. –ü—Ä–∏—á–∏–Ω–æ–π —ç—Ç–æ–≥–æ –¥–µ—Ñ–µ–∫—Ç–∞ –æ–±—ã—á–Ω–æ —è–≤–ª—è—é—Ç—Å—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç–∞–ª–∏.<br><b>–ö—Ä–∞—Ç–µ—Ä—ã.</b> –û–±—ã—á–Ω–æ –æ–Ω–∏ –æ–±—Ä–∞–∑—É—é—Ç—Å—è –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É —Å–≤–∞—Ä–Ω–æ–≥–æ —à–≤–∞. –ö–æ–≥–¥–∞ —Å–≤–∞—Ä–æ—á–Ω–∞—è –≤–∞–Ω–Ω–∞ –æ—Ö–ª–∞–∂–¥–∞–µ—Ç—Å—è –∏ –∑–∞—Ç–≤–µ—Ä–¥–µ–≤–∞–µ—Ç, –µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –æ–±—ä–µ–º, —á—Ç–æ–±—ã –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å —É—Å–∞–¥–∫—É –º–µ—Ç–∞–ª–ª–∞ —à–≤–∞. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –∫—Ä–∞—Ç–µ—Ä–Ω–∞—è —Ç—Ä–µ—â–∏–Ω–∞.<br>–¢—Ä–µ—â–∏–Ω—ã –¥–µ—Ñ–µ–∫—Ç —Å–≤–∞—Ä–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è<br>"
id
: 
1
preventing
: 
"  <b>–°–ø–æ—Å–æ–±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:</b>\n\n  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–∞–ª–ª –∏ —Å–≤–∞—Ä–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\n  - –í—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Å–≤–∞—Ä–∫–∏\n  - –û–±–µ—Å–ø–µ—á—å—Ç–µ –Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –∑–æ–Ω—ã —Å–≤–∞—Ä–∫–∏\n  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≥–µ–æ–º–µ—Ç—Ä–∏—é —à–≤–æ–≤\n  - –£–¥–∞–ª–∏—Ç–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è —Å–æ —Å–≤–∞—Ä–∏–≤–∞–µ–º–æ–≥–æ –º–µ—Ç–∞–ª–ª–∞\n  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–µ—Ç–∞–ª–ª\n  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–≤–∞—Ä–∏–≤–∞–µ—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é –ø–ª–æ—â–∞–¥—å —Å–µ—á–µ–Ω–∏—è\n  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–∞—Ä–∫–∏ –∏ —Å–∏–ª—É —Ç–æ–∫–∞\n  - –ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫—Ä–∞—Ç–µ—Ä–Ω—ã—Ö —Ç—Ä–µ—â–∏–Ω, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫—Ä–∞—Ç–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º\n"
reasons
: 
"<b>–ü—Ä–∏—á–∏–Ω—ã –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç—Ä–µ—â–∏–Ω:</b>\n\n- –ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É–≥–ª–µ—Ä–æ–¥–∞ –∏ —Å–µ—Ä—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ—Ç–∞–ª–ª–µ\n- –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∂–µ—Å—Ç–∫–æ—Å—Ç—å —Å–≤–∞—Ä–∏–≤–∞–µ–º–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n- –ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ—Ç–∞–ª–ª–∞\n- –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–∞—Ä–∫–∏, –Ω–æ –Ω–∏–∑–∫–∏–π —Ç–æ–∫\n- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —à–≤–∞ –∏–∑-–∑–∞ –Ω–µ—Å–æ–±–ª—é–¥–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ —Å–≤–∞—Ä–∫–∏\n- –†–µ–∑–∫–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"
removal
: 
"<b>–°–ø–æ—Å–æ–±—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è:</b>\n–ú–µ—Å—Ç–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–µ—â–∏–Ω—ã —É–¥–∞–ª–∏—Ç—å —à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º. –û–±—Ä–∞–∑–æ–≤–∞–≤—à—É—é—Å—è –ø–æ–ª–æ—Å—Ç—å –∑–∞–≤–∞—Ä–∏—Ç—å.\n -->